"use strict";(self["webpackChunknac"]=self["webpackChunknac"]||[]).push([[646],{8488:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"NacPage"},[e.isStarted?e._e():t("NacGameSettings",{on:{start:e.setStart}}),e.isStarted?t("NacGame",{attrs:{config:e.config,playerList:e.playerList},on:{stop:()=>e.isStarted=!1}}):e._e()],1)},s=[],l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"NacGameSettings"},[t("ValidationObserver",{ref:"observer"},[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[t("v-card",{attrs:{flat:""}},[t("v-card-text",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Beállítások")])])],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",{attrs:{outlined:"",tile:""}},[t("v-card-text",[t("v-row",[t("v-col",{attrs:{cols:"6"}},[t("strong",[e._v("Pálya mérete")])]),t("v-col",{attrs:{cols:"2"}},[t("ValidationProvider",{attrs:{name:"Szélesség X",rules:"required|numeric|min_value:5|max_value:30"},scopedSlots:e._u([{key:"default",fn:function({errors:r}){return[t("v-text-field",{attrs:{label:"Szélesség X",name:"xLength",autocomplete:"off","error-messages":r},model:{value:e.config.xLength,callback:function(t){e.$set(e.config,"xLength","string"===typeof t?t.trim():t)},expression:"config.xLength"}})]}}])})],1),t("v-col",{attrs:{cols:"2"}},[t("ValidationProvider",{attrs:{name:"Magasság Y",rules:"required|numeric|min_value:5|max_value:30"},scopedSlots:e._u([{key:"default",fn:function({errors:r}){return[t("v-text-field",{attrs:{label:"Magasság Y",name:"yLength",autocomplete:"off","error-messages":r},model:{value:e.config.yLength,callback:function(t){e.$set(e.config,"yLength","string"===typeof t?t.trim():t)},expression:"config.yLength"}})]}}])})],1)],1)],1)],1)],1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Játékosok")])])],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},e._l(e.playerList,(function(r,i){return t("v-card",{key:i,staticClass:"mb-2",attrs:{outlined:"",tile:""}},[t("v-card-text",[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",{attrs:{cols:"6"}},[t("ValidationProvider",{attrs:{name:"Név",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("v-text-field",{attrs:{label:"Név",name:"playerName",autocomplete:"off","error-messages":i},model:{value:r.playerName,callback:function(t){e.$set(r,"playerName","string"===typeof t?t.trim():t)},expression:"player.playerName"}})]}}],null,!0)})],1),t("v-col",{attrs:{cols:"2"}},[t("v-select",{attrs:{label:"Ikon",items:e.iconList,filled:""},scopedSlots:e._u([{key:"item",fn:function({item:r}){return[t("v-icon",[e._v(e._s(r))])]}},{key:"selection",fn:function({item:i}){return[t("v-icon",{attrs:{color:r.iconColor,small:""}},[e._v(e._s(i))])]}}],null,!0),model:{value:r.iconName,callback:function(t){e.$set(r,"iconName",t)},expression:"player.iconName"}})],1),t("v-col",{attrs:{cols:"2"}},[t("v-select",{attrs:{label:"Szín",items:e.colorList,filled:""},scopedSlots:e._u([{key:"item",fn:function({item:r}){return[t("v-chip",{attrs:{color:r}},[e._v(e._s(r))])]}},{key:"selection",fn:function({item:r}){return[t("v-chip",{attrs:{color:r,small:""}},[e._v(e._s(r))])]}}],null,!0),model:{value:r.iconColor,callback:function(t){e.$set(r,"iconColor",t)},expression:"player.iconColor"}})],1),t("v-col",{staticClass:"text-center",attrs:{cols:"2"}},[i>1?t("v-btn",{attrs:{color:"error",small:"",text:""},on:{click:function(t){return e.playerList.splice(i,1)}}},[e._v("Törlés")]):e._e()],1)],1)],1)],1)})),1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-btn",{attrs:{disabled:e.playerList.length>=10},on:{click:e.addNewPlayer}},[e._v("Új játékos hozzáadása")])],1)],1)],1),t("v-footer",{attrs:{padless:""}},[t("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[t("v-btn",{attrs:{color:"primary",block:""},on:{click:e.start}},[e._v("Start")])],1)],1)],1)],1)],1)],1)],1)},n=[],a=(r(7658),{name:"NacGameSettings",data(){return{config:{winNumber:5,xLength:10,yLength:10},playerList:[],iconList:["mdi-close-thick","mdi-checkbox-blank-circle-outline","mdi-circle","mdi-checkbox-blank","mdi-triangle","mdi-invert-colors","mdi-heart","mdi-emoticon","mdi-cat","mdi-car"],colorList:["blue","red","green","yellow","orange","purple","pink","brown","grey","black"]}},created(){this.addNewPlayer(),this.addNewPlayer()},methods:{addNewPlayer(){const e=`Player ${this.playerList.length+1}`,t=this.iconList[this.playerList.length],r=this.colorList[this.playerList.length];this.playerList.push({playerName:e,iconName:t,iconColor:r})},start(){this.$refs.observer.validate().then((e=>{e&&this.$emit("start",{config:this.config,playerList:this.playerList})}))}}}),o=a,c=r(1001),u=(0,c.Z)(o,l,n,!1,null,null,null),h=u.exports,d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"NacGame"},[t("v-card",{attrs:{flat:""}},[t("v-toolbar",{attrs:{color:"#eeeeee",dense:"",flat:""}},[t("v-toolbar-title",[e._v(" "+e._s(e.headerMessage)+" "),t("v-chip",{staticClass:"ma-2",attrs:{color:"white","text-color":e.playerList[e.selectedPlayer].iconColor}},[t("v-icon",{attrs:{left:"",color:e.playerList[e.selectedPlayer].iconColor}},[e._v(" "+e._s(e.playerList[e.selectedPlayer].iconName)+" ")]),e._v(" "+e._s(e.playerList[e.selectedPlayer].playerName)+" ")],1)],1),t("v-spacer"),t("v-btn",{on:{click:e.restartAndSettings}},[e._v("Beállítások")]),t("v-btn",{staticClass:"ml-3",attrs:{color:"primary"},on:{click:e.restart}},[e._v("Újrakezdés")])],1),t("v-card-text",{staticClass:"scrollable"},[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-btn-toggle",{attrs:{multiple:""}},[t("table",{staticClass:"squareGrid"},e._l(Number(e.config.yLength),(function(r){return t("tr",{key:r},e._l(Number(e.config.xLength),(function(i){return t("td",{key:i,class:e.currentTileIsWinner(i,r)?e.getTileBgColor(i,r):"text-center"},[e.currentTileIsWinner(i,r)||e.isSelectTile(i,r)?t("v-icon",{attrs:{color:e.getTileIconColor(i,r)}},[e._v(" "+e._s(e.getTileIconName(i,r))+" ")]):t("v-hover",{scopedSlots:e._u([{key:"default",fn:function({hover:s}){return[t("v-btn",{attrs:{icon:"",small:"",disabled:e.isWinner},on:{click:function(t){return e.selectTile(i,r)}}},[s?t("v-icon",{attrs:{color:e.playerList[e.selectedPlayer].iconColor}},[e._v(" "+e._s(e.playerList[e.selectedPlayer].iconName)+" ")]):e._e()],1)]}}],null,!0)})],1)})),0)})),0)])],1)],1)],1)],1)},v=[],m={name:"NacGame",props:{config:{type:Object,required:!0},playerList:{type:Array}},data(){return{selectedPlayer:0,tileList:[],winnerTileList:[]}},computed:{isWinner(){return this.winnerTileList.length===Number(this.config.winNumber)},headerMessage(){return this.isWinner?"Gratulálunk! Te nyertél:":"Te következel:"}},methods:{setNextPlayer(){this.selectedPlayer+1<this.playerList.length?this.selectedPlayer+=1:this.selectedPlayer=0},getPlayer(e,t){const r=this.tileList.find((r=>e===r.x&&t===r.y));return r?this.playerList[r.playerIndex]:null},getTileIconName(e,t){const r=this.getPlayer(e,t);return r?r.iconName:null},getTileIconColor(e,t){const r=this.getPlayer(e,t);return r?r.iconColor:null},getTileBgColor(e,t){const r=this.getPlayer(e,t);return r?`text-center ${r.iconColor} ${r.iconColor}--text lighten-5`:null},isSelectTile(e,t){return Boolean(this.getPlayer(e,t))},selectTile(e,t){const r={x:e,y:t,playerIndex:this.selectedPlayer};this.tileList.push(r),this.isWinnerTile(r)||this.setNextPlayer()},isWinnerTile(e){return!(this.tileList.length<this.playerList.length*this.config.winNumber-(this.playerList.length-1))&&(this.checkToWinnerTile(e,-1,-1)||this.checkToWinnerTile(e,1,-1)||this.checkToWinnerTile(e,-1,0)||this.checkToWinnerTile(e,0,-1))},checkToWinnerTile(e,t,r){let i=this.moveDirection(e,t,r);return i.push(e),this.isWinnerTiles(i)?this.winnerTileList=i:(i=this.moveDirection(e,this.oppositeDirection(t),this.oppositeDirection(r),i),this.isWinnerTiles(i)&&(this.winnerTileList=i)),this.isWinnerTiles(i)},moveDirection(e,t,r,i=[]){let s=e.x+t,l=e.y+r,n=null;for(let a=0;a<Number(this.config.winNumber);a+=1){if(n=this.tileList.find((t=>t.x===s&&t.y===l&&t.playerIndex===e.playerIndex)),this.isWinnerTiles(i))break;if(!n)break;i.push(n),s=n.x+t,l=n.y+r}return i},currentTileIsWinner(e,t){return this.isWinner&&this.winnerTileList.find((r=>r.x===e&&r.y===t&&r.playerIndex===this.selectedPlayer))},oppositeDirection(e){return e>0?-1*e:Math.abs(e)},isWinnerTiles(e){return e.length===Number(this.config.winNumber)},restart(){this.selectedPlayer=0,this.tileList=[],this.winnerTileList=[]},restartAndSettings(){this.restart(),this.$emit("stop")}}},y=m,p=(0,c.Z)(y,d,v,!1,null,null,null),f=p.exports,g={name:"NacPage",components:{NacGameSettings:h,NacGame:f},data(){return{isStarted:!1,config:{},playerList:[]}},methods:{setStart(e){this.config=e.config,this.playerList=e.playerList,this.isStarted=!0}}},L=g,b=(0,c.Z)(L,i,s,!1,null,null,null),k=b.exports}}]);
//# sourceMappingURL=NacPage.4c363e65.js.map